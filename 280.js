"use strict";(self.webpackChunkhot_projects_webpack=self.webpackChunkhot_projects_webpack||[]).push([[280],{7790:(e,t,a)=>{a.d(t,{Z:()=>c});var s=a(7294);const c=function({id:e,className:t}){return s.createElement("svg",{className:`icon ${t}`,width:"1em",height:"1em",fill:"currentColor",overflow:"hidden","aria-hidden":"true"},s.createElement("use",{href:`#${e}`}))}},3280:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(7294),c=a(336),r=a(1382),n=a(9669),l=a.n(n),i=a(1216),m=a(7790),o=a(5066),u=a(6486);const d=e=>{const t=(0,u.throttle)((()=>{"function"==typeof e&&(e=>{const t=window.innerHeight,a=document.body.scrollTop||document.documentElement.scrollTop;document.body.scrollHeight<=t+a&&e()})(e)}),500);(0,s.useEffect)((()=>(window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)})),[])},p={All:"All",JavaScript:"JavaScript",Ruby:"Ruby",Java:"Java",CSS:"CSS"},f=()=>{const e=sessionStorage.getItem("popularTab"),[t,a]=(0,s.useState)(null!==e?e:p.All),[n,u]=(0,s.useState)([]),[f,E]=(0,s.useState)(1),[v,g]=(0,s.useState)(!1),N=(0,s.useRef)(1),h=(0,s.useRef)(!1),w=(0,s.useRef)([]);(0,s.useEffect)((()=>{N.current=f,S()}),[f,t]),(0,s.useEffect)((()=>{w.current=n}),[n]),(0,s.useEffect)((()=>{h.current=v}),[v]);const b=e=>{v||(N.current=1,h.current=!1,w.current=[],a(e),sessionStorage.setItem("popularTab",e),u([]),g(!1),E(1))},S=async function(){if(v)return;g(!0);const e={All:"",JavaScript:"language:javascript",Ruby:"language:ruby",Java:"language:java",CSS:"language:css"};try{const a=await l()({method:"get",url:"https://api.github.com/search/repositories",params:{page:N.current,q:"stars:>1 "+e[t],sort:"stars",order:"desc",type:"Repositories"}});let s=w.current;s=s.concat(a.data.items),g(!1),u(s)}catch(e){c.ZP.error(e?.response?.data?.message)}};d((()=>{E(N.current+1)}));return s.createElement("div",{className:"popular"},s.createElement("div",{className:"popular-menu"},(()=>{let e=[];for(let a in p)e.push(s.createElement("div",{onClick:()=>{b(a)},className:"popular-menu-item "+(t===a?"active":"")},a));return e})()),s.createElement("div",{className:"popular-content"},n.map(((e,t)=>s.createElement("div",{className:"popular-content-item",key:t},s.createElement("div",{className:"item-index"},"#",t+1),s.createElement(i.ZP,{className:"item-image-lazy",placeholder:s.createElement("img",{className:"item-image",src:o.Z,alt:e.owner.login})},s.createElement("img",{className:"item-image",src:e.owner.avatar_url,alt:e.owner.login})),s.createElement("a",{className:"item-fullName",href:e.clone_url,target:"_blank",rel:"noreferrer"},e.full_name),s.createElement("div",{className:"item-text"},s.createElement("div",{className:"item-text-child"},s.createElement("div",{className:"icon"},s.createElement(m.Z,{className:"icon-account",id:"icon-account"})),s.createElement("a",{className:"item-name item-text-info",href:e.clone_url,target:"_blank",rel:"noreferrer"},e.full_name)),s.createElement("div",{className:"item-text-child"},s.createElement("div",{className:"icon"},s.createElement(m.Z,{className:"icon-start",id:"icon-start"})),s.createElement("div",{className:"item-text-info"},e.stargazers_count," stars")),s.createElement("div",{className:"item-text-child"},s.createElement("div",{className:"icon"},s.createElement(m.Z,{className:"icon-fork",id:"icon-fork"})),s.createElement("div",{className:"item-text-info"},e.forks," forks")),s.createElement("div",{className:"item-text-child"},s.createElement("div",{className:"icon"},s.createElement(m.Z,{className:"icon-issues",id:"icon-issues"})),s.createElement("div",{className:"item-text-info"},e.open_issues_count," Open issues"))))))),s.createElement(r.Z,null,s.createElement("div",{className:"loading"})))}},5066:(e,t,a)=>{a.d(t,{Z:()=>s});const s=a.p+"images/loading.gif"}}]);
//# sourceMappingURL=280.js.map